<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>D3 PSET</title>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.7.4/d3.js"></script>
		<link href="https://fonts.googleapis.com/css?family=Open+Sans:300" rel="stylesheet">
		<style type="text/css">
		.text-styling {
			font-family: "Proxima Nova", "Montserrat", sans-serif;
			font-size: 14px;
		}

		.titlestyling{
			font-family: "Proxima Nova", "Montserrat", sans-serif;
			font-size: 18px;
		}
		.source{
			font-family:"Proxima Nova", "Montserrat", sans-serif;
			font-size: 10px;
		}
		</style>
		</head>
		<body>


		<div id="main">

		</div>
		<script type="text/javascript">
			var width = 1500;
			var height = 1200;

			agriculturedata = [["Brazil", 33.9],["Canada", 6.9],["Costa Rica", 34.5],["Denmark", 62],["Fiji", 23.3],["France", 52.4],["Greenland", .6],["Italy", 43.2],["Mali",33.8],["Netherlands",53.3]];

			var svg = d3.select("div#main")
						.append("svg")
						.attr("width", width)
						.attr("height", height)

			svg.selectAll("rect")
               .data(agriculturedata)
               .enter()
               .append("rect")
               .attr("y", function(d, i) {
                       return i*30*2 + 30+50;
                  })
               .attr("x", 50+110)
               .attr("width", function(d) {
                       return d[1]*2*2;
                  })
          	   .attr("height", 20*2)
							 .style("opacity", 0.7)
               .attr("fill", "green")
				svg.append("line")
							.attr("x1", 160)
							.attr("y1", 80)
							.attr("x2", 160)
							.attr("y2", 80 + 40*(agriculturedata.length) + 20*(agriculturedata.length-1))
							.attr("stroke-width", 2)
							.attr("stroke", "black")
				svg.append("line")
							.attr("x1", 160)
							.attr("y1", 80 + 40*(agriculturedata.length) + 20*(agriculturedata.length-1))
							.attr("x2", 160 + 4*d3.max(agriculturedata, function(element){
																				return element[1];
								}))
							.attr("y2", 80 + 40*(agriculturedata.length) + 20*(agriculturedata.length-1))
							.attr("stroke-width", 2)
							.attr("stroke", "black")

				svg.selectAll("svg").data(agriculturedata).enter().append("text")
							.attr("class", "text-styling")
							.attr("text-anchor", "end")
							.attr("x", 150)
							.attr("y", function(d, i) {
											return i*30*2 + 30+50+27;
								 })
							.text(function (d){
								return d[0];
							})
				svg.selectAll("svg").data(agriculturedata).enter().append("text")
						.attr("class", "text-styling")
						.attr("text-anchor", "middle")
						.attr("y", function(d,i){
							return i*(30*2) +(30+50+27);
						})
						.attr("x", function(d){
							return (d[1]*4+ 160+25);
						})
						.text(function (d){
							return d[1] + "%";
						})

				svg.append("text")
					.attr("class", "titlestyling")
					.text("Agricultural Land in 2016 by Country, as Percentage of Total Land")
					.attr("x", 50)
					.attr("y", 30)
					.attr("text-anchor", "center")
				svg.append("text")
					.attr("class", "source")
					.text("Source: World Bank")
					.attr("x", 50)
					.attr("y", 50)
					.attr("text-anchor", "center")

		</script>
		</div>
	</body>
</html>
